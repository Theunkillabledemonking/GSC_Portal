<script setup>
import { ref } from 'vue';
import AdminUserTable from '@/components/admin/AdminUserTable.vue';
import SubjectManage from '@/components/admin/SubjectManage.vue';

const currentTab = ref('users'); // default íƒ­
</script>

<template>
  <div class="admin-view">
    <h1>ğŸ“‹ ê´€ë¦¬ì í˜ì´ì§€</h1>

    <!-- íƒ­ ë²„íŠ¼ -->
    <div class="tab-controls">
      <button :class="{ active: currentTab === 'users' }" @click="currentTab = 'users'">ìŠ¹ì¸ ëŒ€ê¸°</button>
      <button :class="{ active: currentTab === 'subjects' }" @click="currentTab = 'subjects'">ê³¼ëª© ê´€ë¦¬</button>
    </div>

    <!-- íƒ­ ë‚´ìš© -->
    <div class="tab-content">
      <AdminUserTable v-if="currentTab === 'users'"
                      :users="dummyUsers"
                      @updateStatus="handleUpdateStatus"
                      @updateRole="handleUpdateRole" />

      <SubjectManage v-else />
    </div>
  </div>
</template>

<script>
// ì—¬ê¸°ì„  API ì—°ë™ or store ê°€ì ¸ì˜¤ê¸°ë¡œ êµì²´ ê°€ëŠ¥
const dummyUsers = [
  { id: 1, name: 'í™ê¸¸ë™', email: 'hong@example.com', phone: '010-0000-0000', grade: 1, level: 'N2', role: 3 },
  { id: 2, name: 'ê¹€ì˜í¬', email: 'kim@example.com', phone: '010-1111-1111', grade: 2, level: 'TOPIK4', role: 3 },
];

const handleUpdateStatus = (id, status) => {
  console.log('âœ… ìŠ¹ì¸ ìƒíƒœ ë³€ê²½:', id, status);
};

const handleUpdateRole = (id, role) => {
  console.log('âœ… ê¶Œí•œ ë³€ê²½:', id, role);
};
</script>

<style scoped>
.admin-view {
  padding: 40px;
}

.tab-controls {
  margin-bottom: 20px;
  display: flex;
  gap: 10px;
}

.tab-controls button {
  padding: 10px 20px;
  border: 1px solid #ddd;
  background-color: white;
  cursor: pointer;
  font-weight: bold;
}

.tab-controls button.active {
  background-color: #1E3A8A;
  color: white;
  border-color: #1E3A8A;
}
</style>